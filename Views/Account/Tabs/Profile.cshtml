@model MovieTheater.ViewModels.ProfileUpdateViewModel
@{
    ViewData["Title"] = "My Profile";
}

<link rel="stylesheet" href="~/css/movieedit.css" asp-append-version="true" />

<style>
    .form-label-col {
        flex: 0 0 30%;
        max-width: 30%;
        padding-right: 1rem;
    }

    .form-input-col {
        flex: 0 0 70%;
        max-width: 70%;
    }

    .form-control::placeholder {
        color: black;
        opacity: 0.5;
        font-style: italic;
    }

    .form-control:focus::placeholder {
        color: black;
        opacity: 0.3;
    }

    .form-control {
        border: 1px solidrgb(77, 130, 199);
        border-radius: 8px;
        padding: 0.75rem 1rem;
        transition: all 0.2s ease;
    }

    .form-control:focus {
        border-color: #4299e1;
        box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.15);
    }

    .form-control[readonly] {
        background-color:rgb(72, 142, 189);
        cursor: not-allowed;
    }

    .form-group {
        margin-bottom: 1.5rem;
    }

    .form-check-inline {
        margin-right: 1.5rem;
    }

    .form-check-input:checked {
        background-color: #4299e1;
        border-color: #4299e1;
    }
</style>

<div class="signup-wrapper">
    <div class="signup-card">
        <h2 class="signup-title" style="margin-bottom: 1.5rem;">Profile</h2>
        @* GỬI FORM ĐẾN MyAccount, ACTION Edit *@
        <form asp-controller="MyAccount" asp-action="Edit" method="post" enctype="multipart/form-data">
            <div class="container">
                <div class="row">
                    <div class="col-md-10 offset-md-1">
                        @if (Model.IsGoogleAccount)
                        {
                            <div class="alert alert-warning mb-4" role="alert">
                                For Google accounts, please complete the missing information to book a ticket.
                            </div>
                        }
                     
                        @* Full Name *@
                        <div class="form-group row align-items-center">
                            <label class="form-label-col"><strong>Full Name</strong></label>
                            <div class="form-input-col">
                                <input asp-for="FullName" class="form-control" placeholder="Enter your full name" />
                                <span asp-validation-for="FullName" class="text-danger"></span>
                            </div>
                        </div>

                        @* Date of Birth *@
                        <div class="form-group row align-items-center">
                            <label class="form-label-col"><strong>Date of Birth</strong></label>
                            <div class="form-input-col">
                                <input asp-for="DateOfBirth" type="date" class="form-control" />
                                <span asp-validation-for="DateOfBirth" class="text-danger"></span>
                            </div>
                        </div>

                        @* Gender *@
                        <div class="form-group row align-items-center">
                            <label class="form-label-col"><strong>Gender</strong></label>
                            <div class="form-input-col">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" asp-for="Gender" value="male" />
                                    <label class="form-check-label">Male</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" asp-for="Gender" value="female" />
                                    <label class="form-check-label">Female</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" asp-for="Gender" value="unknown" />
                                    <label class="form-check-label">Unknown</label>
                                </div>
                                <span asp-validation-for="Gender" class="text-danger"></span>
                            </div>
                        </div>

                        @* IdentityCard *@
                        <div class="form-group row align-items-center">
                            <label class="form-label-col"><strong>Identity Number</strong></label>
                            <div class="form-input-col">
                                <input asp-for="IdentityCard" class="form-control" placeholder="Enter your identity number" />
                                <span asp-validation-for="IdentityCard" class="text-danger"></span>
                            </div>
                        </div>

                        @* Email *@
                        <div class="form-group row align-items-center">
                            <label class="form-label-col"><strong>Email</strong></label>
                            <div class="form-input-col">
                                <input asp-for="Email" class="form-control" readonly placeholder="Your email address" />
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                        </div>

                        @* Address *@
                        <div class="form-group row align-items-center">
                            <label class="form-label-col"><strong>Address</strong></label>
                            <div class="form-input-col">
                                <input asp-for="Address" class="form-control" placeholder="Enter your address" />
                                <span asp-validation-for="Address" class="text-danger"></span>
                            </div>
                        </div>

                        @* PhoneNumber *@
                        <div class="form-group row align-items-center">
                            <label class="form-label-col"><strong>Phone Number</strong></label>
                            <div class="form-input-col">
                                <input asp-for="PhoneNumber" class="form-control" placeholder="Enter your phone number" />
                                <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                            </div>
                        </div>

                        @* Profile Image
                        <div class="form-group row mb-3">
                            <label class="col-sm-3 col-form-label">Profile Image</label>
                            <div class="col-sm-9">
                                @if (!string.IsNullOrEmpty(Model.Image))
                                {
                                    <img src="@Url.Content(Model.Image)" alt="Profile Image" class="img-thumbnail mb-2" style="max-width: 200px;" />
                                }
                                <input type="file" class="form-control" asp-for="ImageFile" accept="image/*" />
                                <span asp-validation-for="ImageFile" class="text-danger"></span>
                            </div>
                        </div> *@

                        <div class="d-flex justify-content-center gap-3 mt-4">
                            @if (!Model.IsGoogleAccount)
                            {
                                <a href="@Url.Action("ChangePassword", "MyAccount")" class="btn btn-secondary px-4 py-2 rounded">Change Password</a>
                            }
                            <button type="submit" class="btn btn-primary px-4 py-2 rounded">Edit Profile</button>
                        </div>

                    </div>
                </div>    
            </div>
        </form>
    </div>
</div>

<partial name="_ToastMessages" />
